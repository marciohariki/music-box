{"version":3,"sources":["redux/actions/types.js","redux/actions/index.js","components/spotify-auth/spotify-callback/SpotifyCallback.jsx","components/layout/MenuProfile.jsx","components/layout/Menu.jsx","components/layout/BaseStructure.jsx","redux/selector/profile.js","containers/profile/index.jsx","components/player/player-stream/index.jsx","components/player/player-controls/index.jsx","containers/player/index.jsx","components/spotify-auth/spotify-login/index.jsx","containers/home/index.jsx","core/history.js","containers/App.jsx","core/storage.js","core/session.js","api/spotify.jsx","redux/sagas/userProfile.js","redux/sagas/player.js","redux/sagas/index.js","redux/reducers/spotifyAuthReducer.js","redux/reducers/spotifyProfile.js","redux/reducers/index.js","redux/store/index.js","index.js"],"names":["FETCH_PROFILE","FETCH_PLAY_MUSIC","FETCH_PAUSE_MUSIC","FETCH_SKIP_TO_NEXT_MUSIC","FETCH_SKIP_TO_PREVIOUS_MUSIC","fetchProfile","payload","type","loadProfile","loadPlayMusic","loadPauseMusic","loadSkipToNextMusic","loadSkipToPreviousMusic","SpotifyCallback","hash","this","props","location","userAccessToken","exec","signIn","isSignedIn","Redirect","to","React","Component","connect","state","auth","accessToken","MenuProfile","name","imgUrl","S","Profile","Content","Name","Image","src","styled","div","img","Email","Header","Layout","Menu","profile","MenuAntd","theme","mode","defaultSelectedKeys","Item","key","renderProfile","BaseStructure","children","className","style","margin","padding","background","minHeight","menuProfileSelector","createSelector","user","display_name","images","length","url","UserProfile","Link","defaultProps","userProfile","PlayerStream","playerCheckInterval","setInterval","initPlayer","window","Spotify","token","player","Player","getOAuthToken","cb","clearInterval","console","log","PlayerControls","onClickSkipToPreviousMusic","fetchSkipToPreviousMusic","onClickSkipToNextMusic","fetchSkipToNextMusic","onClickPlayMusic","fetchPlayMusic","onClickPauseMusic","fetchPauseMusic","onClick","actionCreators","mapDispatchToProps","CLIENT_ID","REDIRECT_URL","Index","a","spotifyAuthLocation","Home","createBrowserHistory","App","Router","basename","process","history","Switch","Route","path","exact","component","value","localStorage","setItem","JSON","stringify","parse","getItem","session","storage","_session","api","axios","create","baseURL","headers","getAccessToken","get","getConfig","put","post","userProfileFetchSaga","watchFetchUserProfile","fetchUserProfile","spotify","response","data","call","e","takeLatest","playMusicFetchSaga","watchFetchPlayMusic","pauseMusicFetchSaga","watchFetchPauseMusic","skipToNextMusicFetchSaga","watchFetchSkipToNextMusic","skipToPreviousMusicFetchSaga","watchFetchSkipToPreviousMusic","watchFetchMusic","fork","root","INITIAL_STATE","combineReducers","action","setAccessToken","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","reducers","applyMiddleware","runSaga","run","rootSaga","ReactDom","render","document","querySelector"],"mappings":"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","file":"static/js/main.82b77ca7.chunk.js","sourcesContent":["// Login\nexport const SIGN_IN = 'SIGN_IN'\nexport const SIGN_OUT = 'SIGN_OUT'\n\n// User Profile\nexport const FETCH_PROFILE = 'FETCH_PROFILE'\nexport const LOAD_PROFILE = 'LOAD_PROFILE'\n\n// Player\nexport const FETCH_PLAY_MUSIC = 'FETCH_PLAY_MUSIC'\nexport const LOAD_PLAY_MUSIC = 'LOAD_PLAY_MUSIC'\nexport const FETCH_PAUSE_MUSIC = 'FETCH_PAUSE_MUSIC'\nexport const LOAD_PAUSE_MUSIC = 'LOAD_PAUSE_MUSIC'\nexport const FETCH_SKIP_TO_NEXT_MUSIC = 'FETCH_SKIP_TO_NEXT_MUSIC'\nexport const LOAD_SKIP_TO_NEXT_MUSIC = 'LOAD_SKIP_TO_NEXT_MUSIC'\nexport const FETCH_SKIP_TO_PREVIOUS_MUSIC = 'FETCH_SKIP_TO_PREVIOUS_MUSIC'\nexport const LOAD_SKIP_TO_PREVIOUS_MUSIC = 'LOAD_SKIP_TO_PREVIOUS_MUSIC'\n","import {\n  FETCH_PAUSE_MUSIC,\n  FETCH_PLAY_MUSIC,\n  FETCH_PROFILE,\n  FETCH_SKIP_TO_NEXT_MUSIC,\n  FETCH_SKIP_TO_PREVIOUS_MUSIC,\n  LOAD_PAUSE_MUSIC,\n  LOAD_PLAY_MUSIC,\n  LOAD_PROFILE,\n  LOAD_SKIP_TO_NEXT_MUSIC,\n  LOAD_SKIP_TO_PREVIOUS_MUSIC,\n  SIGN_IN,\n  SIGN_OUT\n} from './types'\n\nexport const signIn = (accessToken) => {\n  return {\n    type: SIGN_IN,\n    payload: accessToken\n  }\n}\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  }\n}\n\nexport const fetchProfile = (payload) => {\n  return {\n    type: FETCH_PROFILE,\n    payload: payload\n  }\n}\n\nexport const loadProfile = (payload) => {\n  return {\n    type: LOAD_PROFILE,\n    payload: payload\n  }\n}\n\nexport const fetchPlayMusic = () => {\n  return {\n    type: FETCH_PLAY_MUSIC\n  }\n}\n\nexport const loadPlayMusic = () => {\n  return {\n    type: LOAD_PLAY_MUSIC\n  }\n}\n\nexport const fetchPauseMusic = () => {\n  return {\n    type: FETCH_PAUSE_MUSIC\n  }\n}\n\nexport const loadPauseMusic = () => {\n  return {\n    type: LOAD_PAUSE_MUSIC\n  }\n}\n\nexport const fetchSkipToNextMusic = () => {\n  return {\n    type: FETCH_SKIP_TO_NEXT_MUSIC\n  }\n}\n\nexport const loadSkipToNextMusic = () => {\n  return {\n    type: LOAD_SKIP_TO_NEXT_MUSIC\n  }\n}\n\nexport const fetchSkipToPreviousMusic = () => {\n  return {\n    type: FETCH_SKIP_TO_PREVIOUS_MUSIC\n  }\n}\n\nexport const loadSkipToPreviousMusic = () => {\n  return {\n    type: LOAD_SKIP_TO_PREVIOUS_MUSIC\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { signIn } from 'redux/actions'\nimport { Redirect } from 'react-router-dom'\n\nclass SpotifyCallback extends React.Component {\n  componentDidMount () {\n    const hash = this.props.location.hash\n    const r = /([^&;=]+)=?([^&;]*)/g\n    const userAccessToken = r.exec(hash)[2]\n    this.props.signIn(userAccessToken)\n  }\n\n  render () {\n    const { isSignedIn } = this.props\n    if (isSignedIn) {\n      return <Redirect to=\"/\" />\n    }\n\n    return <div>You have signed in. Redirecting to player...</div>\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  }\n}\n\nexport default connect(mapStateToProps, { signIn })(SpotifyCallback)\n","import React from 'react'\nimport styled from 'styled-components'\nimport { string } from 'prop-types'\n\nconst MenuProfile = ({ name, imgUrl }) => {\n  return (\n    <S.Profile>\n      <S.Content>\n        <S.Name>{name}</S.Name>\n      </S.Content>\n      <S.Image src={imgUrl} />\n    </S.Profile>\n  )\n}\n\nMenuProfile.propTypes = {\n  name: string,\n  imgUrl: string\n}\n\nexport default MenuProfile\n\nconst S = {\n  Profile: styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: row;\n    color: white;\n  `,\n  Image: styled.img`\n    width: 40px;\n    border-radius: 50%;\n  `,\n  Content: styled.div`\n    display: flex;\n    align-items: start;\n    justify-content: center;\n    flex-direction: column;\n    color: white;\n    margin-right: 16px;\n  `,\n  Name: styled.div`\n    margin: 0;\n    line-height: 16px;\n  `,\n  Email: styled.div`\n    margin: 0;\n    line-height: 16px;\n  `\n}","import React from 'react'\nimport { shape, string } from 'prop-types'\nimport styled from 'styled-components'\nimport { Layout, Menu as MenuAntd } from 'antd'\nimport MenuProfile from './MenuProfile'\n\nconst { Header } = Layout\n\nconst Menu = ({ profile }) => {\n  const renderProfile = () => {\n    if (profile) {\n      return <MenuProfile {...profile} />\n    }\n  }\n\n  return (\n    <S.Header>\n      <S.MenuAntd\n        theme=\"dark\"\n        mode=\"horizontal\"\n        defaultSelectedKeys={['2']}\n      >\n        <MenuAntd.Item key=\"1\">nav 1</MenuAntd.Item>\n        <MenuAntd.Item key=\"2\">nav 2</MenuAntd.Item>\n        <MenuAntd.Item key=\"3\">nav 3</MenuAntd.Item>\n      </S.MenuAntd>\n      {renderProfile()}\n    </S.Header>\n  )\n}\n\nMenu.propTypes = {\n  profile: shape({\n    name: string,\n    imgUrl: string\n  })\n}\n\nexport default Menu\n\nconst S = {\n  Header: styled(Header)`\n    display: flex;\n  `,\n  MenuAntd: styled(MenuAntd)`\n    margin-right: auto;\n    line-height: 64px;\n  `\n}","import React from 'react'\nimport { Layout } from 'antd'\nimport Menu from './Menu'\nimport { shape, string } from 'prop-types'\n\nconst BaseStructure = ({ profile, children }) => {\n  return (\n    <Layout>\n      <Menu profile={profile}/>\n      <Layout className=\"layout\">\n        <Layout.Content  style={{\n          margin: '24px 16px',\n          padding: 24,\n          background: '#fff',\n          minHeight: 280,\n        }}>\n          {children}\n        </Layout.Content>\n      </Layout>\n    </Layout>\n  )\n}\n\nBaseStructure.propTypes = {\n  profile: shape({\n    name: string,\n    imgUrl: string\n  })\n}\n\nexport default BaseStructure","import { createSelector } from 'reselect'\n\nconst profileSelector = state => state.user.profile\n\nexport const menuProfileSelector = createSelector(\n  profileSelector,\n  profile => {\n    if (!profile) {\n      return null\n    }\n    return {\n      name: profile.display_name,\n      imgUrl: profile.images.length && profile.images[0].url\n    }\n  }\n)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { bool, shape, string } from 'prop-types'\nimport { fetchProfile } from 'redux/actions'\nimport { Link, Redirect } from 'react-router-dom'\nimport BaseStructure from 'components/layout/BaseStructure'\nimport { menuProfileSelector } from 'redux/selector/profile'\n\nclass UserProfile extends React.Component {\n  componentDidMount () {\n    this.props.fetchProfile()\n  }\n\n  renderProfile () {\n    const { profile } = this.props\n    return (\n      <BaseStructure profile={profile}>\n        <Link to={'/player'} className='ui button primary'>\n          Go to Player\n        </Link>\n      </BaseStructure>\n    )\n  }\n\n  render () {\n    const { isSignedIn, profile } = this.props\n\n    if (!isSignedIn) {\n      return <Redirect to='/' />\n    }\n    if (!profile) {\n      return <div>Loading...</div>\n    }\n\n    return this.renderProfile()\n  }\n}\n\nUserProfile.propTypes = {\n  isSignedIn: bool,\n  userProfile: shape({\n    name: string,\n    imgUrl: string\n  })\n}\n\nUserProfile.defaultProps = {\n  isSignedIn: false,\n  userProfile: null\n}\n\nconst mapStateToProps = (state) => {\n  const profile = menuProfileSelector(state)\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    profile\n  }\n}\n\nexport default connect(mapStateToProps, { fetchProfile })(UserProfile)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass PlayerStream extends React.Component {\n  constructor (props) {\n    super(props)\n    /* create the variable */\n    this.playerCheckInterval = setInterval(() => this.initPlayer(), 1000)\n  }\n\n  initPlayer () {\n    if (window.Spotify != null) {\n      const token = this.props.accessToken\n      this.player = new window.Spotify.Player({\n        name: 'Musikiki Player',\n        getOAuthToken: cb => {\n          cb(token)\n        }\n      })\n      this.player.connect()\n      clearInterval(this.playerCheckInterval)\n      console.log('Player Initialized')\n    }\n  }\n\n  render () {\n    return <div>Player</div>\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    accessToken: state.auth.accessToken\n  }\n}\n\nexport default connect(mapStateToProps, null)(PlayerStream)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { func } from 'prop-types'\nimport { fetchPauseMusic, fetchPlayMusic, fetchSkipToNextMusic, fetchSkipToPreviousMusic } from '../../../redux/actions'\n\nclass PlayerControls extends React.Component {\n  onClickSkipToPreviousMusic = () => {\n    this.props.fetchSkipToPreviousMusic()\n  }\n\n  onClickSkipToNextMusic = () => {\n    this.props.fetchSkipToNextMusic()\n  }\n\n  onClickPlayMusic = () => {\n    this.props.fetchPlayMusic()\n  }\n\n  onClickPauseMusic = () => {\n    this.props.fetchPauseMusic()\n  }\n\n  render () {\n    return (\n      <div className=\"ui raised\">\n        <i onClick={this.onClickSkipToPreviousMusic} className=\"large middle aligned icon step backward\"/>\n        <i onClick={this.onClickPlayMusic} className=\"large middle aligned icon play\"/>\n        <i onClick={this.onClickPauseMusic} className=\"large middle aligned icon pause\"/>\n        <i onClick={this.onClickSkipToNextMusic} className=\"large middle aligned icon step forward\"/>\n      </div>\n    )\n  }\n}\n\nPlayerControls.propTypes = {\n  fetchPlayMusic: func.isRequired,\n  fetchPauseMusic: func.isRequired,\n  fetchSkipToNextMusic: func.isRequired,\n  fetchSkipToPreviousMusic: func.isRequired\n}\n\nconst actionCreators = {\n  fetchPlayMusic,\n  fetchPauseMusic,\n  fetchSkipToNextMusic,\n  fetchSkipToPreviousMusic\n}\n\nexport default connect(null, actionCreators)(PlayerControls)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { menuProfileSelector } from 'redux/selector/profile'\nimport { fetchProfile } from 'redux/actions'\n\nimport PlayerStream from 'components/player/player-stream'\nimport PlayerControls from 'components/player/player-controls'\nimport BaseStructure from 'components/layout/BaseStructure'\n\nclass Player extends React.Component {\n  componentDidMount () {\n    this.props.fetchProfile()\n  }\n\n  render () {\n    const { profile } = this.props\n    return (\n      <BaseStructure profile={profile}>\n        <PlayerStream/>\n        <PlayerControls/>\n      </BaseStructure>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  const profile = menuProfileSelector(state)\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    profile\n  }\n}\n\nconst mapDispatchToProps = {\n  fetchProfile\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button } from 'antd'\nimport { Redirect } from 'react-router-dom'\n\nconst CLIENT_ID = 'cac2d66ca216494890245183d13e1ca6'\nconst REDIRECT_URL = process.env.NODE_ENV === 'production'\n  ? 'https://marciohariki.github.io/music-box/spotify-callback'\n  : 'http://localhost:3000/spotify-callback'\n\nclass Index extends React.Component {\n  onClick = async () => {\n    const scope = 'streaming user-read-birthdate user-read-private user-read-email'\n    let spotifyAuthLocation = `https://accounts.spotify.com/authorize?`\n    console.log(REDIRECT_URL)\n    spotifyAuthLocation += `response_type=token`\n    spotifyAuthLocation += `&client_id=${CLIENT_ID}`\n    spotifyAuthLocation += `&scope=${scope}`\n    spotifyAuthLocation += `&redirect_uri=${REDIRECT_URL}`\n    window.location = spotifyAuthLocation\n  }\n\n  render () {\n    if (this.props.isSignedIn) {\n      return <Redirect to='/profile' />\n    }\n\n    return (\n      <Button\n        type='primary'\n        onClick={this.onClick}\n      >\n        Login with Spotify\n      </Button>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  }\n}\n\nexport default connect(mapStateToProps, null)(Index)\n","import React from 'react'\n\nimport SpotifyLogin from 'components/spotify-auth/spotify-login'\nimport BaseStructure from 'components/layout/BaseStructure'\nimport { connect } from 'react-redux'\nimport { menuProfileSelector } from '../../redux/selector/profile'\n\nclass Home extends React.Component {\n  render () {\n    const { profile } = this.props\n    return (\n      <BaseStructure profile={profile}>\n        <SpotifyLogin />\n      </BaseStructure>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  const profile = menuProfileSelector(state)\n  return {\n    isSignedIn: state.auth.isSignedIn,\n    profile\n  }\n}\n\nexport default connect(mapStateToProps, null)(Home)","import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory()\n","import React from 'react'\nimport { Router, Redirect, Route, Switch } from 'react-router-dom'\nimport './App.css'\nimport SpotifyCallback from 'components/spotify-auth/spotify-callback/SpotifyCallback'\nimport UserProfile from './profile'\nimport Player from './player'\nimport Home from './home'\nimport history from 'core/history'\n\nconst PUBLIC_URL = process.env.PUBLIC_URL\n\nclass App extends React.Component {\n  render () {\n    return (\n      <Router basename={PUBLIC_URL} history={history}>\n        <div className=\"ui container\">\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/spotify-callback\" component={SpotifyCallback} />\n            <Route path=\"/profile\" component={UserProfile} />\n            <Route path=\"/player\" component={Player} />\n            <Redirect to=\"/\"/>\n          </Switch>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","import localStorage from 'localStorage'\n\nclass Storage {\n  setItem (key, value) {\n    localStorage.setItem(key, JSON.stringify(value))\n  }\n\n  getItem (key) {\n    return JSON.parse(localStorage.getItem(key))\n  }\n}\n\nexport default new Storage()\n","import storage from './storage'\n\nclass Session {\n  constructor () {\n    this.key = 'session'\n    let session = storage.getItem(this.key)\n    if (!session) {\n      session = {\n        accessToken: null\n      }\n    }\n    this.session = session\n  }\n\n  get session () {\n    return this._session\n  }\n\n  set session (value) {\n    this._session = value\n    storage.setItem(this.key, this.session)\n  }\n\n  setAccessToken (accessToken) {\n    this.session = {\n      ...this.session,\n      accessToken: accessToken\n    }\n  }\n\n  getAccessToken () {\n    return this.session.accessToken\n  }\n}\n\nexport default new Session()\n","import axios from 'axios'\nimport session from '../core/session'\n\nclass SpotifyApi {\n  constructor () {\n    this.api = axios.create({\n      baseURL: 'https://api.spotify.com/v1'\n    })\n  }\n\n  getConfig () {\n    return {\n      headers: { 'Authorization': `Bearer ${session.getAccessToken()}` }\n    }\n  }\n\n  get (path) {\n    return this.api.get(path, this.getConfig())\n  }\n\n  put (path) {\n    return this.api.put(path, null, this.getConfig())\n  }\n\n  post (path) {\n    return this.api.post(path, null, this.getConfig())\n  }\n}\n\nexport default new SpotifyApi()\n","import { call, put, takeLatest } from 'redux-saga/effects'\n\nimport spotify from 'api/spotify'\nimport { FETCH_PROFILE } from '../actions/types'\nimport { loadProfile } from '../actions'\n\nconst fetchUserProfile = async () => {\n  const response = await spotify.get('/me')\n  return response.data\n}\n\nfunction * userProfileFetchSaga () {\n  try {\n    const data = yield call(fetchUserProfile)\n    yield put(loadProfile(data))\n  } catch (e) {\n    yield call((e) => console.log(e), e)\n  }\n}\n\nexport default function * watchFetchUserProfile () {\n  yield takeLatest(FETCH_PROFILE, userProfileFetchSaga)\n}\n","import { call, fork, put, takeLatest } from 'redux-saga/effects'\n\nimport spotify from '../../api/spotify'\nimport {\n  FETCH_PAUSE_MUSIC,\n  FETCH_PLAY_MUSIC,\n  FETCH_SKIP_TO_NEXT_MUSIC,\n  FETCH_SKIP_TO_PREVIOUS_MUSIC\n} from '../actions/types'\nimport { loadPauseMusic, loadPlayMusic, loadSkipToNextMusic, loadSkipToPreviousMusic } from '../actions'\n\nconst fetchPlayMusic = async () => {\n  const response = await spotify.put('/me/player/play')\n  return response.data\n}\n\nfunction * playMusicFetchSaga () {\n  try {\n    yield call(fetchPlayMusic)\n    yield put(loadPlayMusic())\n  } catch (e) {\n    yield call((e) => console.log(`error is ${e}`), e)\n  }\n}\n\nfunction * watchFetchPlayMusic () {\n  yield takeLatest(FETCH_PLAY_MUSIC, playMusicFetchSaga)\n}\n\nconst fetchPauseMusic = async () => {\n  const response = await spotify.put('/me/player/pause')\n  return response.data\n}\n\nfunction * pauseMusicFetchSaga () {\n  try {\n    yield call(fetchPauseMusic)\n    yield put(loadPauseMusic())\n  } catch (e) {\n    yield call((e) => console.log(e), e)\n  }\n}\n\nfunction * watchFetchPauseMusic () {\n  yield takeLatest(FETCH_PAUSE_MUSIC, pauseMusicFetchSaga)\n}\n\nconst fetchSkipToNextMusic = async () => {\n  const response = await spotify.post('/me/player/next')\n  return response.data\n}\n\nfunction * skipToNextMusicFetchSaga () {\n  try {\n    yield call(fetchSkipToNextMusic)\n    yield put(loadSkipToNextMusic())\n  } catch (e) {\n    yield call((e) => console.log(e), e)\n  }\n}\n\nfunction * watchFetchSkipToNextMusic () {\n  yield takeLatest(FETCH_SKIP_TO_NEXT_MUSIC, skipToNextMusicFetchSaga)\n}\n\nconst fetchSkipToPreviousMusic = async () => {\n  const response = await spotify.post('/me/player/previous')\n  return response.data\n}\n\nfunction * skipToPreviousMusicFetchSaga () {\n  try {\n    yield call(fetchSkipToPreviousMusic)\n    yield put(loadSkipToPreviousMusic())\n  } catch (e) {\n    yield call((e) => console.log(e), e)\n  }\n}\n\nfunction * watchFetchSkipToPreviousMusic () {\n  yield takeLatest(FETCH_SKIP_TO_PREVIOUS_MUSIC, skipToPreviousMusicFetchSaga)\n}\n\nexport default function * watchFetchMusic () {\n  yield fork(watchFetchPlayMusic)\n  yield fork(watchFetchPauseMusic)\n  yield fork(watchFetchSkipToNextMusic)\n  yield fork(watchFetchSkipToPreviousMusic)\n}\n","import { fork } from 'redux-saga/effects'\nimport watchFetchUserProfile from './userProfile'\nimport watchFetchMusic from './player'\n\nexport default function * root () {\n  yield fork(watchFetchUserProfile)\n  yield fork(watchFetchMusic)\n}\n","import { SIGN_IN, SIGN_OUT } from '../actions/types'\nimport session from '../../core/session'\n\nconst INITIAL_STATE = {\n  isSignedIn: !!session.getAccessToken(),\n  accessToken: session.getAccessToken()\n}\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      session.setAccessToken(action.payload)\n      return {\n        isSignedIn: true,\n        accessToken: action.payload\n      }\n    case SIGN_OUT:\n      session.setAccessToken(null)\n      return {\n        isSignedIn: false,\n        accessToken: null\n      }\n    default:\n      return state\n  }\n};\n","import { LOAD_PROFILE } from '../actions/types'\n\nconst INITIAL_STATE = {\n  profile: null\n}\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case LOAD_PROFILE:\n      return {\n        profile: action.payload\n      }\n    default:\n      return state\n  }\n};\n","import { combineReducers } from 'redux'\nimport spotifyAuthReducer from './spotifyAuthReducer'\nimport spotifyProfile from './spotifyProfile'\n\nexport default combineReducers({\n  auth: spotifyAuthReducer,\n  user: spotifyProfile\n})\n","import { applyMiddleware, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport reducers from '../reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(sagaMiddleware))\n);\nstore.runSaga = sagaMiddleware.run;\n\nexport default store;","import React from 'react';\nimport ReactDom from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './containers/App';\nimport rootSaga from './redux/sagas';\nimport store from './redux/store';\n\nstore.runSaga(rootSaga);\nReactDom.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.querySelector('#root')\n);"],"sourceRoot":""}